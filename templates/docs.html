<!-- templates/docs.html -->
{% extends "base.html" %}

{% block title %}Documentation - Crypto Bullrun Analyzer{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-12">
        <div class="d-flex justify-content-between align-items-center">
            <h1><i class="fas fa-book"></i> Documentation</h1>
            <div>
                <span class="badge bg-info">{{ cache_status }}</span>
                <span class="badge bg-secondary">Version 2.0</span>
            </div>
        </div>
        <p class="text-muted">Complete guide to the Crypto Bullrun Analyzer platform</p>
    </div>
</div>

<!-- Quick Navigation -->
<div class="row mb-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-compass"></i> Quick Navigation</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <a href="#overview" class="btn btn-outline-primary w-100 mb-2">
                            <i class="fas fa-info-circle"></i> Overview
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#features" class="btn btn-outline-primary w-100 mb-2">
                            <i class="fas fa-star"></i> Features
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#analysis" class="btn btn-outline-primary w-100 mb-2">
                            <i class="fas fa-chart-line"></i> Analysis Guide
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#api" class="btn btn-outline-primary w-100 mb-2">
                            <i class="fas fa-code"></i> API Reference
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Overview Section -->
<div class="row mb-4" id="overview">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-info-circle"></i> Platform Overview</h4>
            </div>
            <div class="card-body">
                <p>The Crypto Bullrun Analyzer is a comprehensive platform for cryptocurrency analysis and portfolio management. It evaluates the potential of various cryptocurrencies for future bull market cycles using a sophisticated multi-factor scoring system.</p>
                
                <h5 class="mt-4">Key Concepts</h5>
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="fas fa-chart-line"></i> Bullrun Score</h6>
                        <p>A proprietary scoring system (0-1 scale) that evaluates cryptocurrency potential based on multiple technical and fundamental factors.</p>
                        
                        <h6><i class="fas fa-eye"></i> Watchlist</h6>
                        <p>A curated list of cryptocurrencies you want to monitor and analyze for bullrun potential.</p>
                        
                        <h6><i class="fas fa-wallet"></i> Portfolio</h6>
                        <p>Your actual cryptocurrency holdings with cost basis tracking and performance analysis.</p>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-trophy"></i> Top 200 Analysis</h6>
                        <p>Comprehensive analysis of the top 200 cryptocurrencies by market capitalization.</p>
                        
                        <h6><i class="fas fa-memory"></i> Cache System</h6>
                        <p>Intelligent caching to reduce API calls and improve performance while maintaining data freshness.</p>
                        
                        <h6><i class="fas fa-lock"></i> Hardware Wallet Integration</h6>
                        <p>Direct integration with hardware wallets (Ledger, Trezor) for automated portfolio importing.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="row mb-4" id="features">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-star"></i> Platform Features</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h5>Analysis Features</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> Multi-factor bullrun scoring</li>
                            <li><i class="fas fa-check text-success"></i> Technical analysis indicators</li>
                            <li><i class="fas fa-check text-success"></i> Market cap and volume analysis</li>
                            <li><i class="fas fa-check text-success"></i> All-time high distance calculations</li>
                            <li><i class="fas fa-check text-success"></i> Social sentiment analysis</li>
                            <li><i class="fas fa-check text-success"></i> Development activity tracking</li>
                        </ul>
                        
                        <h5>Portfolio Management</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> Profit/Loss tracking</li>
                            <li><i class="fas fa-check text-success"></i> Performance analytics</li>
                            <li><i class="fas fa-check text-success"></i> Asset allocation visualization</li>
                            <li><i class="fas fa-check text-success"></i> Rebalancing recommendations</li>
                            <li><i class="fas fa-check text-success"></i> Hardware wallet import</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>Data & Visualization</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> Real-time price data</li>
                            <li><i class="fas fa-check text-success"></i> Interactive charts</li>
                            <li><i class="fas fa-check text-success"></i> Historical performance</li>
                            <li><i class="fas fa-check text-success"></i> Export to CSV/Excel</li>
                            <li><i class="fas fa-check text-success"></i> Email reports</li>
                        </ul>
                        
                        <h5>System Features</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success"></i> Intelligent caching</li>
                            <li><i class="fas fa-check text-success"></i> Auto-refresh capabilities</li>
                            <li><i class="fas fa-check text-success"></i> Mobile responsive design</li>
                            <li><i class="fas fa-check text-success"></i> RESTful API</li>
                            <li><i class="fas fa-check text-success"></i> Admin dashboard</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Analysis Guide Section -->
<div class="row mb-4" id="analysis">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-chart-line"></i> Analysis Guide</h4>
            </div>
            <div class="card-body">
                <h5>Understanding Bullrun Scores</h5>
                <p>The bullrun score is calculated using a proprietary algorithm that evaluates multiple factors:</p>
                
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Score Range</th>
                                <th>Category</th>
                                <th>Color</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0.80 - 1.00</td>
                                <td>Sehr hoch (Very High)</td>
                                <td><span class="badge bg-primary">Primary</span></td>
                                <td>Excellent bullrun potential, strong fundamentals</td>
                            </tr>
                            <tr>
                                <td>0.70 - 0.79</td>
                                <td>Hoch (High)</td>
                                <td><span class="badge bg-success">Success</span></td>
                                <td>Strong bullrun potential, good fundamentals</td>
                            </tr>
                            <tr>
                                <td>0.60 - 0.69</td>
                                <td>Ãœberdurchschnittlich (Above Average)</td>
                                <td><span class="badge bg-warning">Warning</span></td>
                                <td>Above average potential, some positive factors</td>
                            </tr>
                            <tr>
                                <td>0.50 - 0.59</td>
                                <td>Durchschnittlich (Average)</td>
                                <td><span class="badge bg-info">Info</span></td>
                                <td>Average potential, mixed indicators</td>
                            </tr>
                            <tr>
                                <td>0.40 - 0.49</td>
                                <td>Unterdurchschnittlich (Below Average)</td>
                                <td><span class="badge bg-secondary">Secondary</span></td>
                                <td>Below average potential, some concerns</td>
                            </tr>
                            <tr>
                                <td>0.00 - 0.39</td>
                                <td>Niedrig (Low)</td>
                                <td><span class="badge bg-danger">Danger</span></td>
                                <td>Low potential, significant concerns</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h5 class="mt-4">Analysis Factors</h5>
                <div class="row">
                    <div class="col-md-6">
                        <h6>Technical Factors</h6>
                        <ul>
                            <li><strong>Market Cap Rank:</strong> Position in overall cryptocurrency rankings</li>
                            <li><strong>Volume Analysis:</strong> Trading volume trends and liquidity</li>
                            <li><strong>Price Performance:</strong> Historical price movements and patterns</li>
                            <li><strong>ATH Distance:</strong> Distance from all-time high prices</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Fundamental Factors</h6>
                        <ul>
                            <li><strong>Development Activity:</strong> GitHub commits and developer engagement</li>
                            <li><strong>Social Sentiment:</strong> Community engagement and sentiment</li>
                            <li><strong>Adoption Metrics:</strong> Real-world usage and adoption</li>
                            <li><strong>Tokenomics:</strong> Supply mechanics and inflation rates</li>
                        </ul>
                    </div>
                </div>
                
                <h5 class="mt-4">How to Use Analysis Results</h5>
                <div class="alert alert-info">
                    <h6><i class="fas fa-lightbulb"></i> Investment Strategy Tips</h6>
                    <ul class="mb-0">
                        <li><strong>High Scores (>0.7):</strong> Consider for core portfolio positions</li>
                        <li><strong>Medium Scores (0.5-0.7):</strong> Suitable for diversification</li>
                        <li><strong>Low Scores (<0.5):</strong> Proceed with caution, higher risk</li>
                        <li><strong>Portfolio Balance:</strong> Combine high and medium scores for optimal risk/reward</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- User Guide Section -->
<div class="row mb-4" id="guide">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-book-open"></i> User Guide</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h5>Getting Started</h5>
                        <ol>
                            <li><strong>Set up Watchlist:</strong> Navigate to Watchlist and add cryptocurrencies you want to monitor</li>
                            <li><strong>Run Analysis:</strong> Click "Analyze" to generate bullrun scores</li>
                            <li><strong>Review Results:</strong> Check the dashboard for analysis results and charts</li>
                            <li><strong>Add Portfolio:</strong> Input your actual holdings in the Portfolio section</li>
                            <li><strong>Monitor Performance:</strong> Use the dashboard to track performance</li>
                        </ol>
                        
                        <h5>Managing Your Watchlist</h5>
                        <ul>
                            <li><strong>Add Coins:</strong> Enter symbol (e.g., BTC, ETH) and click add</li>
                            <li><strong>Bulk Import:</strong> Add multiple coins using comma-separated format</li>
                            <li><strong>Remove Coins:</strong> Click the Ã— button next to any coin</li>
                            <li><strong>Analysis:</strong> Use "Analyze" button to get fresh scores</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>Portfolio Management</h5>
                        <ul>
                            <li><strong>Add Holdings:</strong> Input symbol, amount, and average purchase price</li>
                            <li><strong>Import from Hardware:</strong> Connect Ledger/Trezor for automatic import</li>
                            <li><strong>Performance Tracking:</strong> View profit/loss and percentage returns</li>
                            <li><strong>Export Data:</strong> Download portfolio data as CSV</li>
                        </ul>
                        
                        <h5>Using Reports</h5>
                        <ul>
                            <li><strong>Generate Reports:</strong> Create HTML, CSV, or Excel reports</li>
                            <li><strong>Email Reports:</strong> Schedule automated email reports</li>
                            <li><strong>Custom Reports:</strong> Build reports with specific sections</li>
                            <li><strong>Historical Analysis:</strong> Compare performance over time</li>
                        </ul>
                        
                        <h5>Hardware Wallet Integration</h5>
                        <ul>
                            <li><strong>Ledger:</strong> Connect via USB and scan for balances</li>
                            <li><strong>Trezor:</strong> Use Trezor Bridge for wallet access</li>
                            <li><strong>Manual Import:</strong> Enter addresses manually</li>
                            <li><strong>Import to Portfolio:</strong> Transfer balances to portfolio tracking</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- API Reference Section -->
<div class="row mb-4" id="api">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-code"></i> API Reference</h4>
            </div>
            <div class="card-body">
                <h5>Core API Endpoints</h5>
                
                <h6 class="mt-3">Data Refresh</h6>
                <div class="bg-light p-3 rounded">
                    <code>GET /api/refresh</code><br>
                    <small class="text-muted">Refresh dashboard data and return success status</small>
                    
                    <h6 class="mt-3">Response:</h6>
                    <pre class="bg-dark text-light p-2 rounded">{
  "success": true,
  "last_update": "2025-01-01T12:00:00",
  "message": "Data refreshed successfully"
}</pre>
                </div>
                
                <h6 class="mt-3">Watchlist Analysis</h6>
                <div class="bg-light p-3 rounded">
                    <code>POST /api/analyze-watchlist</code><br>
                    <small class="text-muted">Analyze current watchlist and return results</small>
                    
                    <h6 class="mt-3">Request Body:</h6>
                    <pre class="bg-dark text-light p-2 rounded">{
  "force_refresh": false
}</pre>
                    
                    <h6 class="mt-3">Response:</h6>
                    <pre class="bg-dark text-light p-2 rounded">{
  "success": true,
  "message": "Analysis completed",
  "total_coins": 25,
  "analysis": { ... }
}</pre>
                </div>
                
                <h6 class="mt-3">Portfolio Management</h6>
                <div class="bg-light p-3 rounded">
                    <code>POST /portfolio/add</code><br>
                    <small class="text-muted">Add a new holding to portfolio</small>
                    
                    <h6 class="mt-3">Request Body:</h6>
                    <pre class="bg-dark text-light p-2 rounded">{
  "symbol": "BTC",
  "amount": 0.5,
  "avg_price": 45000
}</pre>
                </div>
                
                <h6 class="mt-3">Top 200 Analysis</h6>
                <div class="bg-light p-3 rounded">
                    <code>POST /api/run-top200</code><br>
                    <small class="text-muted">Execute Top 200 analysis</small>
                    
                    <h6 class="mt-3">Response:</h6>
                    <pre class="bg-dark text-light p-2 rounded">{
  "success": true,
  "successful_analyses": 200,
  "failed_analyses": 0,
  "success_rate": 100,
  "duration_seconds": 45.2
}</pre>
                </div>
                
                <h5 class="mt-4">Error Handling</h5>
                <p>All API endpoints return consistent error responses:</p>
                <pre class="bg-dark text-light p-2 rounded">{
  "success": false,
  "message": "Error description",
  "timestamp": "2025-01-01T12:00:00"
}</pre>
                
                <h5 class="mt-4">Rate Limiting</h5>
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>Important:</strong> API calls are cached to prevent excessive requests to external services. Most data is cached for 24 hours. Use the <code>force_refresh</code> parameter sparingly.
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FAQ Section -->
<div class="row mb-4" id="faq">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-question-circle"></i> Frequently Asked Questions</h4>
            </div>
            <div class="card-body">
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                How accurate are the bullrun scores?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                The bullrun scores are based on quantitative analysis of multiple factors, but they should be used as one tool among many in your investment research. Past performance does not guarantee future results, and cryptocurrency investments carry significant risk.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                How often is data updated?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Data is automatically refreshed every 30 minutes when available. The cache system ensures efficiency while maintaining reasonable freshness. You can manually refresh data using the refresh button.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                Is my portfolio data secure?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                All portfolio data is stored locally on your system. The application does not transmit sensitive financial information to external servers. Hardware wallet integration only reads public addresses and balances.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                Can I export my data?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! You can export watchlist and portfolio data in CSV format, generate comprehensive reports in HTML or Excel, and schedule automated email reports.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                What hardware wallets are supported?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                The platform supports Ledger and Trezor hardware wallets, as well as manual address entry for any cryptocurrency. You can import balances directly into your portfolio for tracking.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Support Section -->
<div class="row mb-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-life-ring"></i> Support & Resources</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h5><i class="fas fa-bug"></i> Troubleshooting</h5>
                        <ul>
                            <li>Check <a href="/cache-status">Cache Status</a> for system health</li>
                            <li>Refresh data if analysis seems outdated</li>
                            <li>Clear browser cache for display issues</li>
                            <li>Check console for JavaScript errors</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5><i class="fas fa-tools"></i> System Requirements</h5>
                        <ul>
                            <li>Modern web browser (Chrome, Firefox, Safari, Edge)</li>
                            <li>JavaScript enabled</li>
                            <li>Stable internet connection</li>
                            <li>Screen resolution: 1024x768 minimum</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5><i class="fas fa-rocket"></i> Performance Tips</h5>
                        <ul>
                            <li>Use cache for faster loading</li>
                            <li>Limit watchlist to 50-100 coins</li>
                            <li>Close unused browser tabs</li>
                            <li>Clear old cache files periodically</li>
                        </ul>
                    </div>
                </div>
                
                <div class="alert alert-info mt-3">
                    <h6><i class="fas fa-info-circle"></i> Version Information</h6>
                    <p class="mb-0">
                        <strong>Current Version:</strong> 2.0.0<br>
                        <strong>Cache Status:</strong> {{ cache_status }}<br>
                        <strong>Documentation Updated:</strong> {{ current_time.strftime('%B %Y') }}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Copy code blocks
    document.querySelectorAll('pre').forEach(block => {
        const button = document.createElement('button');
        button.className = 'btn btn-sm btn-outline-secondary position-absolute';
        button.style.top = '5px';
        button.style.right = '5px';
        button.innerHTML = '<i class="fas fa-copy"></i>';
        button.title = 'Copy to clipboard';
        
        block.style.position = 'relative';
        block.appendChild(button);
        
        button.addEventListener('click', function() {
            navigator.clipboard.writeText(block.textContent).then(() => {
                button.innerHTML = '<i class="fas fa-check text-success"></i>';
                setTimeout(() => {
                    button.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
            });
        });
    });
</script>
{% endblock %}
